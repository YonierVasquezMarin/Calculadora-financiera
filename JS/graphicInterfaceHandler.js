var elMenuEstaDesplegado=!1,elMenuDeEliminacionEstaAbiertoEn=0,elMenuDeEdicionEstaAbiertoEn=0;function modificarSaldoDePantalla(e){const t=document.querySelector("#txtSaldoActual"),o=t.innerHTML,i=Number.parseInt(o);if(e=Number.parseInt(e),NaN!=i){const o=i+e;t.innerHTML=o}}function elMovimientoRegistradoEsIngreso(){const e=`.item-registro[data-id='${elMenuDeEliminacionEstaAbiertoEn}']`;return"img-adicion"==document.querySelector(e).querySelector(".contenedor-registro>img").classList.item(0)}function obtenerValorDelMovimientoRegistrado(){const e=`.item-registro[data-id='${elMenuDeEliminacionEstaAbiertoEn}']`;return document.querySelector(e).querySelector(".contenedor-titulo-precio>p:nth-child(2)").innerHTML.substr(1)}function reajustarSaldoDePantalla(e,t,o){let i=0;i=o?e-t:-(e-t);let r=document.querySelector("#txtSaldoActual");const n=Number.parseInt(r.innerHTML)+i;r.innerHTML=n}function desplegarMenuCreador(){if(!elMenuEstaDesplegado){elMenuEstaDesplegado=!0;const e=document.querySelector("#menu-creador");e.style="margin-bottom: 28px;height: 324px;opacity: 100%;z-index:0",document.querySelector("#contenedor-menu-creador").style="padding: 14px",e.setAttribute("data-menu-desplegado","true")}}function ocultarMenuCreador(){elMenuEstaDesplegado=!1;const e=document.querySelector("#menu-creador");e.style="height: 324px;",document.querySelector("#contenedor-menu-creador").style="",e.setAttribute("data-menu-desplegado","false"),setTimeout(()=>{e.style=""},650),e.querySelector("#tituloMovimiento").value="",e.querySelector("#valorMovimiento").value=""}function cambiarTipoMovimientoEnPantalla(e){const t=document.querySelector("#tipoNuevoMovimiento");t.style="opacity: 0%;",setTimeout(()=>{t.innerHTML=e,t.style="opacity: 100%;"},300)}function obtenerTituloMovimientoACrear(){return document.querySelector("#tituloMovimiento").value}function obtenerValorMovimientoACrear(){return document.querySelector("#valorMovimiento").value}function elMovimientoACrearEsIngreso(){return"Ingreso"==document.querySelector("#tipoNuevoMovimiento").innerHTML}function losDatosDelMovimientoEstanFull(e,t){return""!=e&&""!=t}function cambiarVisibilidadMsgError1(e){const t=document.querySelector("#msgError1");t.style=e?"opacity: 100%":"opacity: 0%"}function mostrarRegistroEnPantalla(e,t,o,i){let r=document.createElement("div");r.classList.add("item-registro"),r.setAttribute("data-id",i);let n=`<div class="contenedor-registro">\n            <img class="img-${o?"adicion":"substraccion"}" alt="signo tipo ingreso">\n            <div class="contenedor-titulo-precio">\n                <p>${e}</p>\n                <p>$${t}</p>\n            </div>\n            <div class="contenedor-btns-edit">\n                <span class="btnEditar" title="Editar"><img class="btn" alt="boton editar"></span>\n                <span class="btnMostrarOpcionesDeEliminado" title="Eliminar"><img class="btn" alt="boton eliminar"></span>\n            </div>\n        </div>\n\n        <div class="opciones-de-borrado" data-id="${i}">\n            <h3>¿Está seguro de borrar esto?</h3>\n            <button class="btnBorrarRegistro btn btn-capa-borrado">Borrar</button>\n            <button class="btnCancelarBorrado btn btn-capa-borrado">Cancelar</button>\n        </div>\n\n        <div class="editor-de-registro" data-id="${i}">\n            <div class="zona-tipo-ingreso" data-ingreso="${o?"true":"false"}" data-id="${i}">\n                <img class="img-estado img-tipo-movimiento-${o?"true":"false"}" alt="signo tipo ingreso">\n                <img class="img-intercambio" alt="simbolo de intercambio">\n            </div>\n            <div class="opciones-de-edicion">\n                <input title="Entrada del nombre del movimiento" type="text" placeholder="Nuevo titulo" class="input-edicion input-nuevo-nombre" data-id="${i}" value="${e}">\n                <br>\n                <input title="Entrada del numero del movimiento" type="number" placeholder="Nuevo valor" min="1" class="input-edicion input-nuevo-valor" data-id="${i}" value="${t}">\n                <span class="txtErrorCamposEdicion">MsgError</span>\n                <button class="botonesEdicion btnActualizar">Actualizar</button>\n                <button class="botonesEdicion btnCancelar">Cancelar</button>\n            </div>\n        </div>`;r.innerHTML=n,document.querySelector("#lista-registros").appendChild(r),modificarSaldoDePantalla(o?t:-t)}function mostrarEditorDeRegistro(e){0!=elMenuDeEdicionEstaAbiertoEn&&ocultarEditorDeRegistro(elMenuDeEdicionEstaAbiertoEn),elMenuDeEdicionEstaAbiertoEn=e,document.querySelectorAll(".editor-de-registro").forEach(t=>{t.getAttribute("data-id")==e&&(t.style="display: flex;",setTimeout(()=>{t.style=t.getAttribute("style")+"opacity: 100%;"},100))})}function ocultarEditorDeRegistro(e){document.querySelectorAll(".editor-de-registro").forEach(t=>{t.getAttribute("data-id")==e&&(t.style=t.getAttribute("style")+"opacity: 0%;",setTimeout(()=>{t.style="display: none;"},300))}),elMenuDeEdicionEstaAbiertoEn=0}function restaurarEditorDeRegistro(e){document.querySelectorAll(".item-registro").forEach(t=>{if(t.getAttribute("data-id")==e){"img-adicion"==t.querySelector(".contenedor-registro>img").classList.item(0)?(t.querySelector(".zona-tipo-ingreso").setAttribute("data-ingreso","true"),t.querySelector(".zona-tipo-ingreso>img").setAttribute("class","img-estado img-tipo-movimiento-true")):(t.querySelector(".zona-tipo-ingreso").setAttribute("data-ingreso","false"),t.querySelector(".zona-tipo-ingreso>img").setAttribute("class","img-estado img-tipo-movimiento-false"));let e=t.querySelector(".contenedor-titulo-precio>p:nth-child(1)").innerHTML,o=t.querySelector(".contenedor-titulo-precio>p:nth-child(2)").innerHTML;t.querySelector(".input-nuevo-nombre").value=e,t.querySelector(".input-nuevo-valor").value=o.substr(1)}})}function cambiarTipoMovimientoEnEditor(e){document.querySelectorAll(".zona-tipo-ingreso").forEach(t=>{if(t.getAttribute("data-id")==e){let e=t.querySelector(".img-estado");"true"==t.getAttribute("data-ingreso")?(e.classList.replace("img-tipo-movimiento-true","img-tipo-movimiento-false"),t.setAttribute("data-ingreso","false")):(e.classList.replace("img-tipo-movimiento-false","img-tipo-movimiento-true"),t.setAttribute("data-ingreso","true"))}})}function obtenerNuevoTituloDelMovimiento(e){let t="";return document.querySelectorAll(".input-nuevo-nombre").forEach(o=>{o.getAttribute("data-id")==e&&(t=o.value)}),t}function obtenerNuevoValorDelMovimiento(e){let t=0;return document.querySelectorAll(".input-nuevo-valor").forEach(o=>{o.getAttribute("data-id")==e&&(t=o.value)}),t}function obtenerNuevoTipoDelMovimiento(e){let t="";return document.querySelectorAll(".editor-de-registro").forEach(o=>{o.getAttribute("data-id")==e&&(t=o.querySelector(".zona-tipo-ingreso").getAttribute("data-ingreso"))}),"true"==t}function mostrarMsgError2(e){let t=`.editor-de-registro[data-id='${elMenuDeEdicionEstaAbiertoEn}']`,o=document.querySelector(t).querySelector(".txtErrorCamposEdicion");o.innerHTML=e,o.style="opacity: 100%;",setTimeout(()=>{o.style="opacity: 0%;"},3e3)}function actualizarRegistroDePantalla(e,t,o,i){const r=`.item-registro[data-id='${elMenuDeEdicionEstaAbiertoEn}']`,n=document.querySelector(r),a=n.querySelector(".contenedor-titulo-precio>p:nth-child(2)").innerHTML.substr(1);let l=Number.parseInt(a);const s=n.querySelector(".contenedor-registro>img").classList.item(0);reajustarSaldoDePantalla(t=Number.parseInt(t),l,"img-adicion"==s),n.querySelector(".contenedor-titulo-precio>p:nth-child(1)").innerHTML=e,n.querySelector(".contenedor-titulo-precio>p:nth-child(2)").innerHTML="$"+t,o?n.querySelector(".contenedor-registro>img").classList.replace("img-substraccion","img-adicion"):n.querySelector(".contenedor-registro>img").classList.replace("img-adicion","img-substraccion")}function mostrarEliminadorDeRegistro(e){0!=elMenuDeEliminacionEstaAbiertoEn&&ocultarEliminadorDeRegistro(elMenuDeEliminacionEstaAbiertoEn),elMenuDeEliminacionEstaAbiertoEn=e,document.querySelectorAll(".opciones-de-borrado").forEach(t=>{t.getAttribute("data-id")==e&&(t.style="display: block;",setTimeout(()=>{t.style=t.getAttribute("style")+"opacity: 100%;"},100))})}function ocultarEliminadorDeRegistro(e){document.querySelectorAll(".opciones-de-borrado").forEach(t=>{t.getAttribute("data-id")==e&&(t.style=t.getAttribute("style")+"opacity: 0%;",setTimeout(()=>{t.style="display: none;"},300))}),elMenuDeEliminacionEstaAbiertoEn=0}function eliminarRegistroDePantalla(e){document.querySelectorAll(".item-registro").forEach(t=>{t.getAttribute("data-id")==e&&t.remove()})}